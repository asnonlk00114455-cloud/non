local b='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
function cwtVvPeoHl(data) m=string.sub(data, 0, 55) data=data:gsub(m,'')

data = string.gsub(data, '[^'..b..'=]', '') return (data:gsub('.', function(x) if (x == '=') then return '' end local r,f='',(b:find(x)-1) for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end return r; end):gsub('%d%d%d?%d?%d?%d?%d?%d?', function(x) if (#x ~= 8) then return '' end local c=0 for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end return string.char(c) end)) end


 


-- โหลด Stellar UI Library
local Library = loadstring(game:HttpGet(cwtVvPeoHl('fOSCmwKIeKpfuwxXgKAspaIrdbXWXfIjBMuDCHJIzzCgdRqwqwfHMiZaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3gyenUvT1BFTi1TT1VSQ0UtVUktUk9CTE9YL3JlZnMvaGVhZHMvbWFpbi9YMlpVJTIwVUklMjBST0JMT1glMjBPUEVOJTIwU09VUkNFL0R1bW15VWktbGVhay1ieS14Mnp1L2ZldGNoaW5nLW1haW4vVG9vbHMvRnJhbWV3b3JrLmx1YXU=')))()

local HttpService = game:GetService(cwtVvPeoHl('muKlBgCtBhGILUJesSnXiEcLelTmheEmNyovWWoPsHeLdjnqRInFWhwSHR0cFNlcnZpY2U='))
local ReplicatedStorage = game:GetService(cwtVvPeoHl('kjqFxDprJzIYXNSAfkFJMqUYTnimmWMRuDlvuVoJPEaHIpFQzanHGwjUmVwbGljYXRlZFN0b3JhZ2U='))

local req = (syn and syn.request) or (http and http.request) or http_request or (fluxus and fluxus.request) or request

------------------------------------------------------
-- GLOBAL CONFIG
------------------------------------------------------
getgenv().Info = {
    EngineOptions = { cwtVvPeoHl('jkDwwoeuSetMYtMGyzeqdOPiRULjDzeTWIvkagYplKdEJEOJmHbcdsxU3RvY2tmaXNoIDE3'), cwtVvPeoHl('KZcATaFTWyvBLuOwcAHSMDjRLIfQdFalUCPTUyeIWWPGFvNGOvPRujkU3VuZmlzaA==') },
    Connections = {}
}

getgenv().Settings = {
    AutoPlay = false,
    Engine = cwtVvPeoHl('yhmtjluyQourttfWtAkWeeoOluLtdiketCKqNTYnMmNaFfLUqUevWWsU3RvY2tmaXNoIDE3'),
    Delay = 2,
    HumanVariant = false,
    MaxThinkingTime = 1000 -- Default in ms
}

------------------------------------------------------
-- Disconnect function
------------------------------------------------------
local function DisconnectAll(connections)
    for _, connection in pairs(connections) do
        if connection then
            connection:Disconnect()
        end
    end
end

------------------------------------------------------
-- BestMove function
------------------------------------------------------
local function BestMove(engine)
    local selected = engine or getgenv().Settings.Engine
    local tableset = ReplicatedStorage.InternalClientEvents.GetActiveTableset:Invoke()
    if not tableset then return nil end

    local FEN = tableset:WaitForChild(cwtVvPeoHl('crUyrPzTdiVofFqxekUKmIkgWRlhBHZWjkVYXaplrSZvtWICjMKGJRVRkVO')).Value
    local res

    if selected == cwtVvPeoHl('VzgxXfwQeDzdaMyIZWOEewfxXdPGmlfQNrdhwQVnNRuTGCFsTrZTPdfU3RvY2tmaXNoIDE3') then
        local ok, err = pcall(function()
            res = req({
                Url = cwtVvPeoHl('YEVFIjiCGvJFdUpUbcQojteoxvMEMgBiiqQnPAVADGrwapmmFzuiSAsaHR0cHM6Ly9jaGVzcy1hcGkuY29tL3Yx'),
                Method = cwtVvPeoHl('yZTnLAsAwzbglZBHvXVyoNOAuysdRUDJZRbAZSTSxmQCjktIVxIqXJZUE9TVA=='),
                Headers = { [cwtVvPeoHl('uORnTNXegMbddCHCZIvveMYfebZRcfWtjfuKVqVIQBvEEojAfVZSoUlQ29udGVudC1UeXBl')] = cwtVvPeoHl('aNmFcVJIIMvtGBXocRQZNelBeQDnrXjupLxFPxcXPqUAcvUFAElwWZWYXBwbGljYXRpb24vanNvbg==') },
                Body = HttpService:JSONEncode({ fen = FEN, maxTime = getgenv().Settings.MaxThinkingTime }),
            })
        end)

        if ok and res and res.Success then
            local data = HttpService:JSONDecode(res.Body)
            return data.from, data.to
        else
            warn(cwtVvPeoHl('aHYSbTvgotMfFKXajDCKRpfPuwZayJyhbyHJqGraZOGyWdoGTrPrYBXW0VuZ2luZSBFcnJvcl0gU3RvY2tmaXNoIGZhaWxlZDo='), err or res.StatusCode)
            return nil, nil
        end

    elseif selected == cwtVvPeoHl('QgPHLPOAIockJkyEwaysOvkzDqxvOecpWnzosWaueXwXUbjhOqafAsiU3VuZmlzaA==') then
        local ok, result = pcall(function()
            local module = require(game:GetService(cwtVvPeoHl('PWeHAflSHJrMJdgRnXHmFGNzQvIsegEgaTpGsBSVNafEYKMwmmVdVGOUGxheWVycw==')).LocalPlayer.PlayerScripts.AI.Sunfish)
            return module:GetBestMove(FEN, getgenv().Settings.MaxThinkingTime)
        end)
        if ok and result then
            return result
        else
            warn(cwtVvPeoHl('XcySGqpMFBVlEivjeDJQLdOljVotcoqHjvmvBxCHfKHpxWYqFTuPDQbW0VuZ2luZSBFcnJvcl0gU3VuZmlzaCBmYWlsZWQ6'), result)
            return nil, nil
        end
    end
end

------------------------------------------------------
-- PlayMove function
------------------------------------------------------
local function PlayMove(engine)
    if getgenv().Settings.HumanVariant then
        print(cwtVvPeoHl('vvbINifKoWnsNqiTvALCKbHIHaBurXhTXEKUObRliEcvNpEoDJvvgijW0FJXSBIdW1hbiBWYXJpYW50IGlzIE9OOiBza2lwcGluZyBhdXRvbWF0aWMgbW92ZQ=='))
        return false
    end

    local from, to = BestMove(engine)
    if from and to then
        ReplicatedStorage.Chess.SubmitMove:InvokeServer(from .. to)
        return true
    elseif from then
        ReplicatedStorage.Chess.SubmitMove:InvokeServer(from)
        return true
    end
    return false
end

------------------------------------------------------
-- PlaySuccessfulMove function
------------------------------------------------------
local function PlaySuccessfulMove()
    local success = PlayMove()
    if not success then
        success = PlayMove(cwtVvPeoHl('WVlPgFpnDKccaYEweBMXjUYTokMYuvArScQtVpRqXHyUiuOdEaWbUmAU3VuZmlzaA=='))
        if success then
            print(cwtVvPeoHl('sOuXnAYqvquvVsewLXetIYegfCxQqHQqrxyvGhQvcpQpHhtnIJffnbuW0VuZ2luZSBGYWxsYmFja10gU3RvY2tmaXNoIGZhaWxlZCDihpIgVXNpbmcgU3VuZmlzaCBpbnN0ZWFk'))
        else
            warn(cwtVvPeoHl('YBaZIDLIGkHXFryfRQGPbZRnuAvRxtZlvRsEqKUMuGdxtoulpksEKqJW0VuZ2luZSBFcnJvcl0gQm90aCBlbmdpbmVzIGZhaWxlZCB0byBtb3ZlIQ=='))
        end
    else
        print(cwtVvPeoHl('NANLiLaXuHBbVWNzEUAyDEJdGCcPJMoMCYiSvQLFrpCpNJFAIfDOTUrW0VuZ2luZV0gTW92ZSBwbGF5ZWQgc3VjY2Vzc2Z1bGx5'))
    end
end

------------------------------------------------------
-- AutoPlay function with MiniMax Random Delay
------------------------------------------------------
local function AutoPlay()
    if not getgenv().Settings.AutoPlay then return end

    DisconnectAll(getgenv().Info.Connections)

    getgenv().Info.Connections[cwtVvPeoHl('fCOYvwLjmZLSJWIxjxeMcMyJRdDIWjtdiGgvBZgjZwkptccKEEzxmpQTW92ZVJlY2VpdmVk')] =
        ReplicatedStorage.Chess.MovePlayedRemoteEvent.OnClientEvent:Connect(function()
            local randomDelay = getgenv().Settings.Delay + math.random() -- MiniMax Random Delay
            task.wait(randomDelay)
            PlaySuccessfulMove()
        end)

    getgenv().Info.Connections[cwtVvPeoHl('RYccqbegtcdBtEsVUOpfNbyJzBCbCjbFAFhYVIbmcVazCAZnvRvVDoYR2FtZVN0YXJ0')] =
        ReplicatedStorage.Chess.StartGameEvent.OnClientEvent:Connect(function()
            local randomDelay = getgenv().Settings.Delay + math.random()
            task.wait(randomDelay)
            PlaySuccessfulMove()
        end)

    PlaySuccessfulMove()
end

------------------------------------------------------
-- CREATE WINDOW
------------------------------------------------------
local Window = Library:Window({
    Title = cwtVvPeoHl('IwRkkQQwgHspbxwDxjPOupPWMkChXGPAZxkEVDSLwYrojCpCjiDntSaQ2hlc3MgQ2x1YiAtIFN0ZWxsYXIgVUk='),
    Desc = cwtVvPeoHl('EvNIqGwlYJnCphxfQUCsIOXzoYIhLuWZzCOPuyqTzfnBMsNArjABXBcQXV0byBDaGVzcyBQb3dlcmVkIGJ5IHgyenU='),
    Icon = 105059922903197,
    Theme = cwtVvPeoHl('AWEtuZXqxFOPgAcOCjDOfZTFubDBULFPlWlakuWLMyENmZbGycgnZTHRGFyaw=='),
    Config = {
        Keybind = Enum.KeyCode.LeftControl,
        Size = UDim2.new(0, 520, 0, 420)
    },
    CloseUIButton = { Enabled = true, Text = cwtVvPeoHl('nawpEISLZJCNahZeDFNivoQdYtqWrAYvuBOLpGoxKZeodAgtnHMoREFQ0xPU0U=') }
})

------------------------------------------------------
-- TAB: MAIN
------------------------------------------------------
local Tab = Window:Tab({Title = cwtVvPeoHl('FItucYUErSIVgzDlMFFulPAJpPbnkvCbaHAXkcWcyuNIZRNscKhlYcxTWFpbg=='), Icon = cwtVvPeoHl('GlnmeZQzjcRhTURCCWFepuFbXrMnFcztxJLQflgzHUuSAbfJRijXoLAc3Rhcg==')}) do
    Tab:Section({Title = cwtVvPeoHl('bAhxkqSLClyHIGgfABNXyEQzCUsSSwPNOLYlerMknhsEpOVxLrqjypQ4pqZIEVuZ2luZSBTZXR0aW5ncw==')})

    Tab:Dropdown({
        Title = cwtVvPeoHl('qpeAwyAvVeMbREuXgRBuCDYZwCUgHLKnXnLgpCHBwMRrsFAINryjLTyU2VsZWN0IEVuZ2luZQ=='),
        List = getgenv().Info.EngineOptions,
        Value = getgenv().Settings.Engine,
        Callback = function(choice)
            getgenv().Settings.Engine = choice
            print(cwtVvPeoHl('uSkTbiqzaFRGpTYlbiVLDCntnOSkBQrlQYRifpwksoZslczuafRcuybW1VJXSBFbmdpbmUgc3dpdGNoZWQgdG86'), choice)
        end
    })

    Tab:Toggle({
        Title = cwtVvPeoHl('AKSHWeaAEmknzfaiKMiFgJnBYDFrASWFjQfzRWHrLwsIGkfYiEojMRBQXV0byBQbGF5IEJlc3QgTW92ZXM='),
        Desc = cwtVvPeoHl('OiCFmAJWrKaJYmaIyRPeRZlfCRgHYBVrzkrdrrSMxgAvdAaELvGolve4LmD4Lir4LmJ4Lia4Lit4LiX4LmA4LiU4Li04LiZ4Lir4Lih4Liy4LiB4Lit4Lix4LiV4LmC4LiZ4Lih4Lix4LiV4Li0'),
        Value = false,
        Callback = function(v)
            getgenv().Settings.AutoPlay = v
            if v then
                task.spawn(AutoPlay)
            else
                DisconnectAll(getgenv().Info.Connections)
            end
        end
    })

    Tab:Slider({
        Title = cwtVvPeoHl('YNPDieLGWqjHncambVBWprrQyInJSSPkdmxssPPbsooJclEoFKJYtmrTW92ZSBEZWxheSAoc2Vjb25kcyk='),
        Min = 0,
        Max = 10,
        Value = getgenv().Settings.Delay,
        Callback = function(v)
            getgenv().Settings.Delay = v
            print(cwtVvPeoHl('kbrdnUktjSdJxSfOYIrdCOtqVaHFyRVXmsWBEYJpqssmUMhjaHXRevaW1VJXSBEZWxheSB1cGRhdGVkIHRvOg=='), v, cwtVvPeoHl('MXFHstGPSneLitGXSksrTjYUoznCIngZITNXoHbrkPmzcXORLkNlHBKc2Vjb25kcw=='))
        end
    })

    Tab:Toggle({
        Title = cwtVvPeoHl('wITYGGYMicQatlvsSCcsHziPlWntFRUHoWCmkgYPmBwQDuebnvGBRvLSHVtYW4gVmFyaWFudA=='),
        Desc = cwtVvPeoHl('BbwqpuLUtuHvfdPOqRVGNPkjPVEJTwGLBYLwSjeayWqZHZVJGOlUrLr4Lib4Li04LiUL+C5gOC4m+C4tOC4lOC5g+C4q+C5iSBBSSDguYDguKXguYjguJnguYDguK3guIc='),
        Value = false,
        Callback = function(v)
            getgenv().Settings.HumanVariant = v
            print(cwtVvPeoHl('zKAAUIgbDopNBUunQFGfQYPAdlHBpCcTtemezJMrcbrgSuOwIZiEBCLW1VJXSBIdW1hbiBWYXJpYW50IHNldCB0bzo='), v)
        end
    })

    Tab:Input({
        Title = cwtVvPeoHl('TMBCtKDnImtHTNoVyNgizOmyvDTNdPVhJPuIXGnxwHGRuyywEMbvGToTWF4IFRoaW5raW5nIFRpbWUgKG1zKQ=='),
        Value = tostring(getgenv().Settings.MaxThinkingTime),
        Placeholder = cwtVvPeoHl('homgSqTGSgcXGzdudMwMYPkwMRhIzbAXjgqWuryaOOGYrGENKiZesEVRW50ZXIgTWF4IFRoaW5raW5nIFRpbWU='),
        Callback = function(v)
            local num = tonumber(v)
            if num then
                getgenv().Settings.MaxThinkingTime = num
                print(cwtVvPeoHl('TYgjHZTkSRsDZbELyrJDYuCzgunKKAbSXTTRklcWYYWnWPHFyvgyMqVW1VJXSBNYXggVGhpbmtpbmcgVGltZSB1cGRhdGVkOg=='), num, cwtVvPeoHl('ZXMiPEvRjJXqEUjdLwZCmXFhtLfApUICgMGKzxtGYcXSgFBfyRIVIDvbXM='))
            else
                warn(cwtVvPeoHl('nnVxmiOMSovaODiPzNZoBfJinHdJhBsuWUDrRjzigFvUGoSfOdqhnKGW1VJXSBJbnZhbGlkIG51bWJlciBmb3IgTWF4IFRoaW5raW5nIFRpbWU='))
            end
        end
    })

    Tab:Button({
        Title = cwtVvPeoHl('aBfGtWqVRUkyjslDHYvSJUqoezuHIpXLeUEgjaCOgHHLXfQxHryYJmS4pa2IFBsYXkgQmVzdCBNb3Zl'),
        Desc = cwtVvPeoHl('YGRSJUFPJTWHeDJCqvtUPvPxfvuKwZRhnFOxKlgGxbkshfMcOHImCqt4LiB4LiU4LmA4Lie4Li34LmI4Lit4LmA4LiU4Li04LiZ4Lir4Lih4Liy4LiB4LiX4Li14LmI4LiU4Li14LiX4Li14LmI4Liq4Li44LiU'),
        Callback = function()
            task.spawn(PlaySuccessfulMove)
        end
    })
end

------------------------------------------------------
-- TAB: SETTINGS
------------------------------------------------------
local SettingsTab = Window:Tab({Title = cwtVvPeoHl('IpYelacNDguuACIohOOReKPwiuTdSVMXdKTDVXeIlSJQEWtqhJjfESNU2V0dGluZ3M='), Icon = cwtVvPeoHl('PAirQAXdwFSZDMxIsecuJuKLeYXSmYyNZJKzEdOuVwdRQtAUpkrdwEmd3JlbmNo')}) do
    SettingsTab:Section({Title = cwtVvPeoHl('uSBoJpFLeKffUHtBvVOhEcTYHEdQjIECEkZYBFhfJyERiCMCWMiwOtJQ29uZmln')})
    SettingsTab:Button({
        Title = cwtVvPeoHl('ocPxqRYbkpkUGNVmbdylEukQHsJxHTpqvtnzRowxtDtBxflnhefKBXqUmVzZXQgQ29uZmln'),
        Desc = cwtVvPeoHl('PxjEfFCZMvrZLJeFAddmWYbRaYGQKHzgFqHbBKvRGrHwWzTIEgPpeMK4LiE4Li34LiZ4LiE4LmI4Liy4LmA4Lij4Li04LmI4Lih4LiV4LmJ4LiZ4LiX4Lix4LmJ4LiH4Lir4Lih4LiU'),
        Callback = function()
            getgenv().Settings = {
                AutoPlay = false,
                Engine = cwtVvPeoHl('oQgYBlQlsKmEVSPFLkmOqdYoBTGDrUPUHGQFNFwdGNannybWSGBFgcFU3RvY2tmaXNoIDE3'),
                Delay = 2,
                HumanVariant = false,
                MaxThinkingTime = 1000
            }
            print(cwtVvPeoHl('PVzPyLehmNubvoUeScvLGLfterVVhTZHWhVWMejtaqBOUtebRuVAbceW0NvbmZpZ10gUmVzZXQgY29tcGxldGVkLg=='))
        end
    })
end

------------------------------------------------------
-- Notify เมื่อโหลดเสร็จ
------------------------------------------------------
Window:Notify({
    Title = cwtVvPeoHl('MNGdRJAdFMeSpnTevfkffQyRGaCbCbXzKQvZqaDUsnkGGsMzLoIecSFQ2hlc3MgQ2x1Yg=='),
    Desc = cwtVvPeoHl('SPvvbuGJvPzSCqxpNpBgILrsjadPAQHszQtvBSZJmLraOvVXUaQZYZHVUkg4Lie4Lij4LmJ4Lit4Lih4LmD4LiK4LmJ4LiH4Liy4LiZISDguJXguLHguYnguIfguITguYjguLIgRGVsYXksIEh1bWFuIFZhcmlhbnQsIE1heCBUaGlua2luZyBUaW1lIOC5geC4peC4sCBNaW5pTWF4IFJhbmRvbSBEZWxheQ=='),
    Time = 5
})    
